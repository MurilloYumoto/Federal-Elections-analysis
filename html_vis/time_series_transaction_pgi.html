<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "_server_source_0", "values": [{"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 23.802879594481105}, {"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 7425.2719121517475}, {"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "E", "transaction_amt": 41.89281877652124}, {"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 532.8700291838696}, {"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 84.5149237802183}, {"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 2281.416807054138}, {"transaction_dt": "2011-01-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 5.521460917862246}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 57.171584736741536}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 10140.211486778977}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "E", "transaction_amt": 21.416413017506358}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 824.1018696189609}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 165.0880651153566}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 5480.95772145685}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 7.783224016336037}, {"transaction_dt": "2011-02-28T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 17.95067711470663}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 299.3115459651784}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 14866.832173106273}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "E", "transaction_amt": 12.429216196844383}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 1809.6445362628315}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 323.87784193606603}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 15514.336468511812}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 15.648092021712584}, {"transaction_dt": "2011-03-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 353.5180579445366}, {"transaction_dt": "2011-04-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 72.27271208807225}, {"transaction_dt": "2011-04-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 10971.503183237706}, {"transaction_dt": "2011-04-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 1107.9598189886547}, {"transaction_dt": "2011-04-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 88.25085577860312}, {"transaction_dt": "2011-04-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 11521.80659103432}, {"transaction_dt": "2011-04-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 307.88729179804744}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "0", "transaction_amt": 58.70406160803951}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 191.30385247471173}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 9923.374651970038}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 1053.889944144281}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 142.43840586669444}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 15542.285633512527}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 21.862700120134775}, {"transaction_dt": "2011-05-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 436.45742281728775}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "0", "transaction_amt": 64.81330919080388}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 613.9357112157812}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 12690.300198655328}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 2192.925682972642}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 400.6699646207522}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 30279.392175446566}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 202.24494000455496}, {"transaction_dt": "2011-06-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 135.04740173171655}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 75.93787501556888}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 10378.612173561312}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "E", "transaction_amt": 35.90135422941326}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 505.5607958283982}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 34.068772765664946}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 8778.351119042616}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 130.69079018029555}, {"transaction_dt": "2011-07-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 105.17833404393151}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 69.30559059471334}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 9769.044197768357}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 1245.1117536357633}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 116.6504375143815}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 15741.509167757038}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 31.173718059864402}, {"transaction_dt": "2011-08-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 364.05117933659096}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 383.3944340416883}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 12945.41496757264}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 2204.732960354251}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 243.84449120075755}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 35621.04508445382}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 15.137266397946593}, {"transaction_dt": "2011-09-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 420.2730510252933}, {"transaction_dt": "2011-10-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 118.88848408623797}, {"transaction_dt": "2011-10-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 11412.442507825086}, {"transaction_dt": "2011-10-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 953.0415694511087}, {"transaction_dt": "2011-10-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 114.62556306901358}, {"transaction_dt": "2011-10-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 17618.743453241448}, {"transaction_dt": "2011-10-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 86.27553174434152}, {"transaction_dt": "2011-11-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 212.0201463580487}, {"transaction_dt": "2011-11-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 10091.170147339542}, {"transaction_dt": "2011-11-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 961.1299272371956}, {"transaction_dt": "2011-11-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 172.21234016825676}, {"transaction_dt": "2011-11-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 20113.194860415082}, {"transaction_dt": "2011-11-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 65.30041828795254}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 657.2683918739567}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 13305.915160153256}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 2358.9282047172137}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 340.5799957820353}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 31543.696196012505}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 15.648092021712584}, {"transaction_dt": "2011-12-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 21.862700120134775}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 179.86338208895694}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 11527.975176219716}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 993.6781292857901}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 119.43699077697164}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 19347.329259088954}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 14.73180128983843}, {"transaction_dt": "2012-01-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 177.16974366651604}, {"transaction_dt": "2012-02-29T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 223.4792254944425}, {"transaction_dt": "2012-02-29T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 14426.177119931286}, {"transaction_dt": "2012-02-29T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 1635.126022860604}, {"transaction_dt": "2012-02-29T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 144.6206475973821}, {"transaction_dt": "2012-02-29T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 27638.370664574988}, {"transaction_dt": "2012-02-29T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 75.02158428369472}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 635.3697582316462}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 20057.107247950702}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 4522.997036785407}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 386.65706047222034}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 46741.10241060091}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 6.907755278982137}, {"transaction_dt": "2012-03-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 104.89065197147974}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 259.2987417056401}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 14477.874398943382}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 2981.6827980441903}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 166.30276378062146}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 27386.436972615007}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 21.639556568820566}, {"transaction_dt": "2012-04-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 98.6352218785373}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 96.54490541870516}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 17551.096668696242}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 5662.2092838247345}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 162.78267728307165}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 38737.71459695438}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 95.4100764406555}, {"transaction_dt": "2012-05-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 149.9378080517316}, {"transaction_dt": "2012-06-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 19445.387440545863}, {"transaction_dt": "2012-06-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 13708.854121144137}, {"transaction_dt": "2012-06-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 636.0611037902595}, {"transaction_dt": "2012-06-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 46520.2372539745}, {"transaction_dt": "2012-06-30T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 622.2597476405849}, {"transaction_dt": "2012-06-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 66.3300377051337}, {"transaction_dt": "2012-07-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 17858.126016591843}, {"transaction_dt": "2012-07-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 9565.435743644255}, {"transaction_dt": "2012-07-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 715.6902225721765}, {"transaction_dt": "2012-07-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 37731.93701664903}, {"transaction_dt": "2012-07-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 366.4788585903901}, {"transaction_dt": "2012-07-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 12.429216196844383}, {"transaction_dt": "2012-08-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 22715.85489991943}, {"transaction_dt": "2012-08-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 24233.426766394445}, {"transaction_dt": "2012-08-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 161.1880171902678}, {"transaction_dt": "2012-08-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 51988.47841268155}, {"transaction_dt": "2012-08-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 207.1836240348625}, {"transaction_dt": "2012-08-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 7.824046010856292}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 8.517193191416238}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 26587.797692885983}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 76199.24303985224}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 267.8226746339194}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 44314.51110248395}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 27.02748609405829}, {"transaction_dt": "2012-09-30T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 31.296184043425168}, {"transaction_dt": "2012-10-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 27969.09695844371}, {"transaction_dt": "2012-10-31T00:00:00.000", "transaction_pgi": "E", "transaction_amt": 37.70492632075581}, {"transaction_dt": "2012-10-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 112013.15515311484}, {"transaction_dt": "2012-10-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 31.609533862625526}, {"transaction_dt": "2012-10-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 32043.836413304634}, {"transaction_dt": "2012-10-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 21.82187812561452}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 5.703782474656201}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 8874.181077639081}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "E", "transaction_amt": 101.72180998154623}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 21088.066026856377}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 32.23619130191664}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 6762.027693927517}, {"transaction_dt": "2012-11-30T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 269.42537280949045}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "C", "transaction_amt": 7.824046010856292}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "Desconhecido", "transaction_amt": 6823.084332415529}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 1840.512743102644}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "O", "transaction_amt": 40.6888459721953}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 2868.482325570355}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "R", "transaction_amt": 7.824046010856292}, {"transaction_dt": "2012-12-31T00:00:00.000", "transaction_pgi": "S", "transaction_amt": 61.22979025234776}, {"transaction_dt": "2013-01-31T00:00:00.000", "transaction_pgi": "G", "transaction_amt": 42.809109508395395}, {"transaction_dt": "2013-01-31T00:00:00.000", "transaction_pgi": "P", "transaction_amt": 34.068772765664946}], "transform": [{"type": "formula", "expr": "toDate(datum['transaction_dt'])", "as": "transaction_dt"}]}, {"name": "param_4_store"}, {"name": "source_0", "source": "_server_source_0", "transform": [{"type": "filter", "expr": "(datum['transaction_pgi'] === selected_category)"}, {"type": "project", "fields": ["transaction_amt", "transaction_dt", "transaction_pgi"]}]}, {"name": "data_0", "source": "source_0", "transform": [{"type": "filter", "expr": "(isDate(datum[\"transaction_dt\"]) || (isValid(datum[\"transaction_dt\"]) && isFinite(+datum[\"transaction_dt\"]))) && isValid(datum[\"transaction_amt\"]) && isFinite(+datum[\"transaction_amt\"])"}, {"type": "project", "fields": ["transaction_amt", "transaction_dt", "transaction_pgi"]}]}], "signals": [{"name": "unit", "value": {}, "on": [{"events": "pointermove", "update": "isTuple(group()) ? group() : unit"}]}, {"name": "param_4", "update": "vlSelectionResolve(\"param_4_store\", \"union\")"}, {"name": "selected_category", "value": "C", "bind": {"input": "select", "options": ["0", "C", "Desconhecido", "E", "G", "O", "P", "R", "S"], "name": "Categoria: "}}, {"name": "param_4_transaction_dt", "on": [{"events": [{"source": "view", "type": "dblclick"}], "update": "null"}, {"events": {"signal": "param_4_translate_delta"}, "update": "panLinear(param_4_translate_anchor.extent_x, -param_4_translate_delta.x / width)"}, {"events": {"signal": "param_4_zoom_delta"}, "update": "zoomLinear(domain(\"x\"), param_4_zoom_anchor.x, param_4_zoom_delta)"}]}, {"name": "param_4_transaction_amt", "on": [{"events": [{"source": "view", "type": "dblclick"}], "update": "null"}, {"events": {"signal": "param_4_translate_delta"}, "update": "panLinear(param_4_translate_anchor.extent_y, param_4_translate_delta.y / height)"}, {"events": {"signal": "param_4_zoom_delta"}, "update": "zoomLinear(domain(\"y\"), param_4_zoom_anchor.y, param_4_zoom_delta)"}]}, {"name": "param_4_tuple", "on": [{"events": [{"signal": "param_4_transaction_dt || param_4_transaction_amt"}], "update": "param_4_transaction_dt && param_4_transaction_amt ? {unit: \"layer_0\", fields: param_4_tuple_fields, values: [param_4_transaction_dt,param_4_transaction_amt]} : null"}]}, {"name": "param_4_tuple_fields", "value": [{"field": "transaction_dt", "channel": "x", "type": "R"}, {"field": "transaction_amt", "channel": "y", "type": "R"}]}, {"name": "param_4_translate_anchor", "value": {}, "on": [{"events": [{"source": "scope", "type": "pointerdown"}], "update": "{x: x(unit), y: y(unit), extent_x: domain(\"x\"), extent_y: domain(\"y\")}"}]}, {"name": "param_4_translate_delta", "value": {}, "on": [{"events": [{"source": "window", "between": [{"source": "scope", "type": "pointerdown"}, {"source": "window", "type": "pointerup"}], "type": "pointermove", "consume": true}], "update": "{x: param_4_translate_anchor.x - x(unit), y: param_4_translate_anchor.y - y(unit)}"}]}, {"name": "param_4_zoom_anchor", "on": [{"events": [{"source": "scope", "type": "wheel", "consume": true}], "update": "{x: invert(\"x\", x(unit)), y: invert(\"y\", y(unit))}"}]}, {"name": "param_4_zoom_delta", "on": [{"events": [{"source": "scope", "type": "wheel", "consume": true}], "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))", "force": true}]}, {"name": "param_4_modify", "on": [{"events": {"signal": "param_4_tuple"}, "update": "modify(\"param_4_store\", param_4_tuple, true)"}]}], "marks": [{"type": "line", "name": "layer_0_marks", "from": {"data": "source_0"}, "sort": {"field": "x"}, "encode": {"update": {"defined": {"signal": "isValid(datum[\"transaction_dt\"]) && isFinite(+datum[\"transaction_dt\"]) && isValid(datum[\"transaction_amt\"]) && isFinite(+datum[\"transaction_amt\"])"}, "x": {"field": "transaction_dt", "scale": "x"}, "y": {"field": "transaction_amt", "scale": "y"}, "stroke": {"value": "#4c78a8"}, "tooltip": {"signal": "{\"Data\": timeFormat(datum[\"transaction_dt\"], '%Y-%m'), \"Valor Total\": format(datum[\"transaction_amt\"], \",.0f\"), \"Categoria\": isValid(datum[\"transaction_pgi\"]) ? datum[\"transaction_pgi\"] : \"\"+datum[\"transaction_pgi\"]}"}}}, "style": ["line"], "interactive": true, "clip": true}, {"type": "symbol", "name": "layer_1_marks", "from": {"data": "data_0"}, "encode": {"update": {"opacity": {"value": 1}, "tooltip": {"signal": "{\"Data\": timeFormat(datum[\"transaction_dt\"], '%Y-%m'), \"Valor Total\": format(datum[\"transaction_amt\"], \",.0f\"), \"Categoria\": isValid(datum[\"transaction_pgi\"]) ? datum[\"transaction_pgi\"] : \"\"+datum[\"transaction_pgi\"]}"}, "fill": {"value": "#4c78a8"}, "x": {"field": "transaction_dt", "scale": "x"}, "y": {"field": "transaction_amt", "scale": "y"}}}, "style": ["point"], "clip": true, "interactive": true}], "scales": [{"name": "x", "type": "time", "domain": {"fields": [{"data": "source_0", "field": "transaction_dt"}, {"data": "data_0", "field": "transaction_dt"}]}, "range": [0, {"signal": "width"}], "domainRaw": {"signal": "param_4[\"transaction_dt\"]"}}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "source_0", "field": "transaction_amt"}, {"data": "data_0", "field": "transaction_amt"}]}, "range": [{"signal": "height"}, 0], "domainRaw": {"signal": "param_4[\"transaction_amt\"]"}, "nice": true, "zero": true}], "axes": [{"scale": "x", "ticks": false, "gridScale": "y", "aria": false, "minExtent": 0, "labels": false, "grid": true, "domain": false, "orient": "bottom", "zindex": 0, "maxExtent": 0, "tickCount": {"signal": "ceil(width/40)"}}, {"scale": "y", "orient": "left", "grid": true, "domain": false, "ticks": false, "aria": false, "maxExtent": 0, "gridScale": "x", "minExtent": 0, "zindex": 0, "labels": false, "tickCount": {"signal": "ceil(height/40)"}}, {"scale": "x", "grid": false, "labelFlush": true, "title": "Data", "labelOverlap": true, "tickCount": {"signal": "ceil(width/40)"}, "orient": "bottom", "zindex": 0}, {"scale": "y", "title": "Valor Total", "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0, "grid": false, "labelOverlap": true, "orient": "left"}], "title": {"text": "Valor das Transa\u00e7\u00f5es por transaction_pgi ao Longo do Tempo (2011-2013)", "anchor": "start"}, "background": "white", "padding": 5, "width": 800, "style": "cell", "height": 400, "config": {"axis": {"labelFontSize": 12, "titleFontSize": 14, "labelFont": "Arial", "titleFont": "Arial"}, "legend": {"titleFontSize": 14, "labelFontSize": 12, "labelFont": "Arial", "titleFont": "Arial"}, "style": {"group-title": {"fontSize": 18, "font": "Arial", "fill": "black"}}}};
      var embedOpt = {"mode": "vega"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>