<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "_server_source_0", "values": [{"transaction_dt": "2011-01-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 38.32954599033451}, {"transaction_dt": "2011-01-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 10296.772874072998}, {"transaction_dt": "2011-01-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 39.46514555855927}, {"transaction_dt": "2011-01-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 20.72326583694641}, {"transaction_dt": "2011-02-28T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 40.899394717272244}, {"transaction_dt": "2011-02-28T00:00:00.000", "entity_tp": "COM", "transaction_amt": 14.73180128983843}, {"transaction_dt": "2011-02-28T00:00:00.000", "entity_tp": "IND", "transaction_amt": 16581.29026428716}, {"transaction_dt": "2011-02-28T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 20.57534570686979}, {"transaction_dt": "2011-02-28T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 57.184235854295096}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 92.4630243248904}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 15.201804919084164}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "COM", "transaction_amt": 14.914122846632383}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 32787.9384640615}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 157.72011486036124}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 121.50246777830111}, {"transaction_dt": "2011-03-31T00:00:00.000", "entity_tp": "PTY", "transaction_amt": 5.857933154483459}, {"transaction_dt": "2011-04-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 61.640453880802056}, {"transaction_dt": "2011-04-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 23950.889070632787}, {"transaction_dt": "2011-04-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 27.21732220289328}, {"transaction_dt": "2011-04-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 29.933606208922594}, {"transaction_dt": "2011-05-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 33.408514380372}, {"transaction_dt": "2011-05-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 27244.669360517753}, {"transaction_dt": "2011-05-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 86.1295500328246}, {"transaction_dt": "2011-05-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 6.1092475827643655}, {"transaction_dt": "2011-06-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 89.91580657835095}, {"transaction_dt": "2011-06-30T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 25.328436022934504}, {"transaction_dt": "2011-06-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 46323.002755804126}, {"transaction_dt": "2011-06-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 111.65960484758142}, {"transaction_dt": "2011-06-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 29.4227805851566}, {"transaction_dt": "2011-07-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 52.809131153836915}, {"transaction_dt": "2011-07-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 7.313220387090301}, {"transaction_dt": "2011-07-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 19910.886467894114}, {"transaction_dt": "2011-07-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 53.225462602649394}, {"transaction_dt": "2011-07-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 20.066932629509182}, {"transaction_dt": "2011-08-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 50.20084407010495}, {"transaction_dt": "2011-08-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 6.907755278982137}, {"transaction_dt": "2011-08-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 27183.295934197122}, {"transaction_dt": "2011-08-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 81.23970620141671}, {"transaction_dt": "2011-08-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 15.201804919084164}, {"transaction_dt": "2011-09-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 113.23204747979845}, {"transaction_dt": "2011-09-30T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 7.600902459542082}, {"transaction_dt": "2011-09-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 51385.25534430081}, {"transaction_dt": "2011-09-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 174.05612372055333}, {"transaction_dt": "2011-09-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 153.6978370856975}, {"transaction_dt": "2011-10-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 65.10174054900163}, {"transaction_dt": "2011-10-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 30102.989105519722}, {"transaction_dt": "2011-10-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 100.28887466493322}, {"transaction_dt": "2011-10-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 35.63738868357879}, {"transaction_dt": "2011-11-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 104.25628350851441}, {"transaction_dt": "2011-11-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 31392.85360082078}, {"transaction_dt": "2011-11-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 117.91795547678325}, {"transaction_dt": "2011-12-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 117.23114964464315}, {"transaction_dt": "2011-12-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 14.220975666072437}, {"transaction_dt": "2011-12-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 47855.203537343805}, {"transaction_dt": "2011-12-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 158.00877547623836}, {"transaction_dt": "2011-12-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 99.23430255005817}, {"transaction_dt": "2012-01-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 137.42458613983243}, {"transaction_dt": "2012-01-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 32113.178888087466}, {"transaction_dt": "2012-01-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 97.84493917315913}, {"transaction_dt": "2012-01-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 11.73606901628444}, {"transaction_dt": "2012-02-29T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 89.5502670891456}, {"transaction_dt": "2012-02-29T00:00:00.000", "entity_tp": "IND", "transaction_amt": 43943.95067135344}, {"transaction_dt": "2012-02-29T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 95.58417625750461}, {"transaction_dt": "2012-02-29T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 13.710150042306449}, {"transaction_dt": "2012-03-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 289.88620017183024}, {"transaction_dt": "2012-03-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 15.201804919084164}, {"transaction_dt": "2012-03-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 71841.16235269488}, {"transaction_dt": "2012-03-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 191.86446328594545}, {"transaction_dt": "2012-03-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 116.9171002196092}, {"transaction_dt": "2012-04-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 160.0166111605873}, {"transaction_dt": "2012-04-30T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 5.298317366548036}, {"transaction_dt": "2012-04-30T00:00:00.000", "entity_tp": "COM", "transaction_amt": 9.323669057283183}, {"transaction_dt": "2012-04-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 45053.99027410272}, {"transaction_dt": "2012-04-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 112.55393814452384}, {"transaction_dt": "2012-04-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 50.68764370453576}, {"transaction_dt": "2012-05-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 172.75865803237292}, {"transaction_dt": "2012-05-31T00:00:00.000", "entity_tp": "COM", "transaction_amt": 17.034386382832473}, {"transaction_dt": "2012-05-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 61958.44353917708}, {"transaction_dt": "2012-05-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 239.76817464852428}, {"transaction_dt": "2012-05-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 67.69125842870147}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 193.53615627458947}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 318.6223054891883}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "COM", "transaction_amt": 33.40517617893383}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 80011.11322149582}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 266.7417352976392}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 165.36936758084437}, {"transaction_dt": "2012-06-30T00:00:00.000", "entity_tp": "PTY", "transaction_amt": 10.341742483467284}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 123.26325722111208}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 55.8261123701419}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "COM", "transaction_amt": 43.09831042681645}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 65737.6106865693}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 202.29824534685469}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 77.85402857916769}, {"transaction_dt": "2012-07-31T00:00:00.000", "entity_tp": "PTY", "transaction_amt": 10.146433731146518}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 61.93171437068615}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 7.600902459542082}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "COM", "transaction_amt": 47.46268883359117}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 98757.95409515096}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 319.89919212943977}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 111.97627445690645}, {"transaction_dt": "2012-08-31T00:00:00.000", "entity_tp": "PTY", "transaction_amt": 7.1308988302963465}, {"transaction_dt": "2012-09-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 79.31883100450835}, {"transaction_dt": "2012-09-30T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 178.5733749472892}, {"transaction_dt": "2012-09-30T00:00:00.000", "entity_tp": "COM", "transaction_amt": 41.15884960144105}, {"transaction_dt": "2012-09-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 146657.02823785652}, {"transaction_dt": "2012-09-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 253.64407864301901}, {"transaction_dt": "2012-09-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 226.4920011322112}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 84.2178885470709}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 219.1273324159252}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "COM", "transaction_amt": 155.87669743966842}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 170633.91794526597}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 694.6454192456639}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 311.7120466945022}, {"transaction_dt": "2012-10-31T00:00:00.000", "entity_tp": "PTY", "transaction_amt": 17.72753356339242}, {"transaction_dt": "2012-11-30T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 26.580841784782027}, {"transaction_dt": "2012-11-30T00:00:00.000", "entity_tp": "CCM", "transaction_amt": 20.030118656386463}, {"transaction_dt": "2012-11-30T00:00:00.000", "entity_tp": "COM", "transaction_amt": 7.860185057472165}, {"transaction_dt": "2012-11-30T00:00:00.000", "entity_tp": "IND", "transaction_amt": 36790.58927248137}, {"transaction_dt": "2012-11-30T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 209.1370039225341}, {"transaction_dt": "2012-11-30T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 79.1645330880419}, {"transaction_dt": "2012-12-31T00:00:00.000", "entity_tp": "CAN", "transaction_amt": 34.4501992472872}, {"transaction_dt": "2012-12-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 11560.768232596081}, {"transaction_dt": "2012-12-31T00:00:00.000", "entity_tp": "ORG", "transaction_amt": 33.70443165446973}, {"transaction_dt": "2012-12-31T00:00:00.000", "entity_tp": "PAC", "transaction_amt": 20.72326583694641}, {"transaction_dt": "2013-01-31T00:00:00.000", "entity_tp": "IND", "transaction_amt": 76.87788227406034}], "transform": [{"type": "formula", "expr": "toDate(datum['transaction_dt'])", "as": "transaction_dt"}]}, {"name": "param_3_store"}, {"name": "source_0", "source": "_server_source_0", "transform": [{"type": "filter", "expr": "(datum['entity_tp'] === selected_category)"}, {"type": "project", "fields": ["entity_tp", "transaction_amt", "transaction_dt"]}]}, {"name": "data_0", "source": "source_0", "transform": [{"type": "filter", "expr": "(isDate(datum[\"transaction_dt\"]) || (isValid(datum[\"transaction_dt\"]) && isFinite(+datum[\"transaction_dt\"]))) && isValid(datum[\"transaction_amt\"]) && isFinite(+datum[\"transaction_amt\"])"}, {"type": "project", "fields": ["entity_tp", "transaction_amt", "transaction_dt"]}]}], "signals": [{"name": "unit", "value": {}, "on": [{"events": "pointermove", "update": "isTuple(group()) ? group() : unit"}]}, {"name": "param_3", "update": "vlSelectionResolve(\"param_3_store\", \"union\")"}, {"name": "selected_category", "value": "CAN", "bind": {"input": "select", "options": ["CAN", "CCM", "COM", "IND", "ORG", "PAC", "PTY"], "name": "Categoria: "}}, {"name": "param_3_transaction_dt", "on": [{"events": [{"source": "view", "type": "dblclick"}], "update": "null"}, {"events": {"signal": "param_3_translate_delta"}, "update": "panLinear(param_3_translate_anchor.extent_x, -param_3_translate_delta.x / width)"}, {"events": {"signal": "param_3_zoom_delta"}, "update": "zoomLinear(domain(\"x\"), param_3_zoom_anchor.x, param_3_zoom_delta)"}]}, {"name": "param_3_transaction_amt", "on": [{"events": [{"source": "view", "type": "dblclick"}], "update": "null"}, {"events": {"signal": "param_3_translate_delta"}, "update": "panLinear(param_3_translate_anchor.extent_y, param_3_translate_delta.y / height)"}, {"events": {"signal": "param_3_zoom_delta"}, "update": "zoomLinear(domain(\"y\"), param_3_zoom_anchor.y, param_3_zoom_delta)"}]}, {"name": "param_3_tuple", "on": [{"events": [{"signal": "param_3_transaction_dt || param_3_transaction_amt"}], "update": "param_3_transaction_dt && param_3_transaction_amt ? {unit: \"layer_0\", fields: param_3_tuple_fields, values: [param_3_transaction_dt,param_3_transaction_amt]} : null"}]}, {"name": "param_3_tuple_fields", "value": [{"field": "transaction_dt", "channel": "x", "type": "R"}, {"field": "transaction_amt", "channel": "y", "type": "R"}]}, {"name": "param_3_translate_anchor", "value": {}, "on": [{"events": [{"source": "scope", "type": "pointerdown"}], "update": "{x: x(unit), y: y(unit), extent_x: domain(\"x\"), extent_y: domain(\"y\")}"}]}, {"name": "param_3_translate_delta", "value": {}, "on": [{"events": [{"source": "window", "between": [{"source": "scope", "type": "pointerdown"}, {"source": "window", "type": "pointerup"}], "consume": true, "type": "pointermove"}], "update": "{x: param_3_translate_anchor.x - x(unit), y: param_3_translate_anchor.y - y(unit)}"}]}, {"name": "param_3_zoom_anchor", "on": [{"events": [{"source": "scope", "consume": true, "type": "wheel"}], "update": "{x: invert(\"x\", x(unit)), y: invert(\"y\", y(unit))}"}]}, {"name": "param_3_zoom_delta", "on": [{"events": [{"source": "scope", "consume": true, "type": "wheel"}], "update": "pow(1.001, event.deltaY * pow(16, event.deltaMode))", "force": true}]}, {"name": "param_3_modify", "on": [{"events": {"signal": "param_3_tuple"}, "update": "modify(\"param_3_store\", param_3_tuple, true)"}]}], "marks": [{"type": "line", "name": "layer_0_marks", "from": {"data": "source_0"}, "sort": {"field": "x"}, "encode": {"update": {"defined": {"signal": "isValid(datum[\"transaction_dt\"]) && isFinite(+datum[\"transaction_dt\"]) && isValid(datum[\"transaction_amt\"]) && isFinite(+datum[\"transaction_amt\"])"}, "stroke": {"value": "#4c78a8"}, "tooltip": {"signal": "{\"Data\": timeFormat(datum[\"transaction_dt\"], '%Y-%m'), \"Valor Total\": format(datum[\"transaction_amt\"], \",.0f\"), \"Categoria\": isValid(datum[\"entity_tp\"]) ? datum[\"entity_tp\"] : \"\"+datum[\"entity_tp\"]}"}, "x": {"field": "transaction_dt", "scale": "x"}, "y": {"field": "transaction_amt", "scale": "y"}}}, "interactive": true, "style": ["line"], "clip": true}, {"type": "symbol", "name": "layer_1_marks", "from": {"data": "data_0"}, "encode": {"update": {"opacity": {"value": 1}, "fill": {"value": "#4c78a8"}, "tooltip": {"signal": "{\"Data\": timeFormat(datum[\"transaction_dt\"], '%Y-%m'), \"Valor Total\": format(datum[\"transaction_amt\"], \",.0f\"), \"Categoria\": isValid(datum[\"entity_tp\"]) ? datum[\"entity_tp\"] : \"\"+datum[\"entity_tp\"]}"}, "x": {"field": "transaction_dt", "scale": "x"}, "y": {"field": "transaction_amt", "scale": "y"}}}, "clip": true, "style": ["point"], "interactive": true}], "scales": [{"name": "x", "type": "time", "domain": {"fields": [{"data": "source_0", "field": "transaction_dt"}, {"data": "data_0", "field": "transaction_dt"}]}, "range": [0, {"signal": "width"}], "domainRaw": {"signal": "param_3[\"transaction_dt\"]"}}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "source_0", "field": "transaction_amt"}, {"data": "data_0", "field": "transaction_amt"}]}, "range": [{"signal": "height"}, 0], "domainRaw": {"signal": "param_3[\"transaction_amt\"]"}, "zero": true, "nice": true}], "axes": [{"scale": "x", "grid": true, "domain": false, "tickCount": {"signal": "ceil(width/40)"}, "orient": "bottom", "labels": false, "gridScale": "y", "ticks": false, "minExtent": 0, "aria": false, "maxExtent": 0, "zindex": 0}, {"scale": "y", "orient": "left", "ticks": false, "domain": false, "gridScale": "x", "tickCount": {"signal": "ceil(height/40)"}, "maxExtent": 0, "minExtent": 0, "zindex": 0, "labels": false, "grid": true, "aria": false}, {"scale": "x", "labelFlush": true, "orient": "bottom", "tickCount": {"signal": "ceil(width/40)"}, "labelOverlap": true, "zindex": 0, "grid": false, "title": "Data"}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "orient": "left", "grid": false, "title": "Valor Total", "labelOverlap": true, "zindex": 0}], "title": {"text": "Valor das Transa\u00e7\u00f5es por entity_tp ao Longo do Tempo (2011-2013)", "anchor": "start"}, "padding": 5, "height": 400, "background": "white", "width": 800, "style": "cell", "config": {"axis": {"labelFontSize": 12, "titleFontSize": 14, "labelFont": "Arial", "titleFont": "Arial"}, "legend": {"titleFontSize": 14, "labelFontSize": 12, "labelFont": "Arial", "titleFont": "Arial"}, "style": {"group-title": {"fontSize": 18, "font": "Arial", "fill": "black"}}}};
      var embedOpt = {"mode": "vega"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>